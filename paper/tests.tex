\subsection{Модульное тестирование}
\label{tests}

Julia находится в стадии интенсивной разработки и имеет обширные инструменты для тестирования кода на различных платформах.

Модуль \texttt{Base.Test} предоставляет простой необходимый функционал для модульного тестирования. Модульное тестирование, или юнит-тестирование (англ. unit testing) позволяет проверить на корректность отдельные модули исходного кода программы.

Идея состоит в том, чтобы писать тесты для каждой нетривиальной функции или метода. Это позволяет достаточно быстро проверить, не привело ли очередное изменение кода к регрессии, то есть к появлению ошибок в уже оттестированных местах программы, а также облегчает обнаружение и устранение таких ошибок.

Цель модульного тестирования -- изолировать отдельные части программы и показать, что по отдельности эти части работоспособны.

Модульное тестирование позже позволяет программистам проводить рефакторинг, будучи уверенными, что модуль по-прежнему работает корректно (регрессионное тестирование). Это поощряет к изменениям кода, поскольку достаточно легко проверить, что код работает и после изменений.

Модульное тестирование помогает устранить сомнения по поводу отдельных модулей и может быть использовано для подхода к тестированию <<снизу вверх>>: сначала тестируя отдельные части программы, а затем программу в целом.

Модульные тесты можно рассматривать как <<живой документ>> для тестируемого класса. Клиенты, которые не знают, как использовать данный класс, могут использовать юнит-тест в качестве примера.

Прогон тестов осуществляется выполнением соответствующего программного кода. Для удобства организации все модульные тесты включаются в список и выполняются последовательно.

\lstinputlisting{runtests.jl}

Поскольку тестируются отдельно взятые компоненты, упрощается поиск и устранение ошибок на ранних этапах разработки модуля. Например, в данном тесте проверяется корректность поиска начального базиса для заданной ЗЛП. Поскольку в тесте используется простая задача, правильный ответ известен заранее, и можно провести его сравнение с результатом работы метода.

\lstinputlisting{find_potential_basis.jl}

Тест преобразования задачи к стандартной форме должен содержать все крайние случаи и возможные варианты (равенства, неравенства различных знаков, положительная и/или отрицательная правая часть). Проверяя каждый случай, в итоге получим метод, корректно приводящий любые задачи к стандартной форме (полный исходный код теста приведен в приложении~\ref{append:tests}).

\lstinputlisting[firstline=1,firstnumber=1,lastline=31]{transform_to_standard_form.jl}

Корректность работы всех компонентов проверяются интеграционным тестированием путем решения простой ЗЛП, правильный ответ к которой заранее известен.

\lstinputlisting{solver1.jl}

Тестирование программного обеспечения -- комбинаторная задача. Как и любая технология тестирования, модульное тестирование не позволяет отловить все ошибки программы. В самом деле, это следует из практической невозможности трассировки всех возможных путей выполнения программы, за исключением простейших случаев. Все модульные тесты (обсуждаемые в этом разделе и другие) приведены в приложении~\ref{append:tests}.

Регулярный прогон тестов дает уверенность в разрабатываемом продукте и обеспечивает необходимый уровень надежности.
