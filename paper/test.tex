\section{Тест}
\label{test}

%\input{julia_intro}

Алгоритм параллельного симплекс-метода был реализован на языке для технических расчетов Julia с использованием техник, обсуждаемых в главе~\ref{simplex_parallel}, и протестирован на четырехядерной системе AMD Opteron 2378. Эксперименты проводились с использованием задач из наборов Netlib\cite{Gay1985} и Kennigton\cite{Carolan1990}. Результаты представлены в таблице~\ref{tb:perf}.

Задачи выбирались по следующему принципу. Среди полного набора из 114 задач большинство (84) оказались слишком малы (решение получено менее, чем за 1 секунду) и не были включены в таблицу. Из оставшихся 30 задач 14 не удалось решить за один или более запусков с использованием 1, 2, 4 или 8 потоков. 

Следует заметить, что при использовании 1 потока вычисляется только 1 строка симплекс-таблицы, и, таким образом, выполняется стандартная последовательная версия симплекс-метода. Время работы последовательной версии сравнивалось со временем решения задачи при помощи последовательного COIN-OR решателя Clp версии 1.06.

Решения для оставшихся 16 задач были получены примерно в десять раз медленнее, чем решения Clp, и тоже не были включены в таблицу. Таким образом, таблица~\ref{tb:perf} содержит результаты решения 13 тестовых задач, для которых решение требовало не менее 1 секунды процессорного времени на одном потоке, и решение было получено эффективно при использовании 1 потока и успешно при использовании 2, 4 и 8 потоков.

Как показывают результаты в колонках 5-7 таблицы~\ref{tb:perf}, некоторое ускорение было получено для всех задач, кроме трех (fit2p, osa-14 и osa-30), и среднее (геометрическое) ускорение составило около 25\% на 4 и 8 потоках. Колонка 8 показывает полученное ускорение при использовании 1 потока по отношению к Clp: только 1 задача была решена быстрее (cre-b), а в остальном решение было получено в среднем в 3.1 раз медленнее. Хотя, при использовании 8 потоков, для трех задач (cre-b, cre-d и pds-06) решение было получено как минимум так же быстро, как и решение Clp. В остальном время решения в среднем было в 2.3 раза больше.

\begin{table}[]
\centering\small
\begin{tabular}{lrrr|rrr|rr|}
\cline{5-9}
                               & \multicolumn{1}{l}{}       & \multicolumn{1}{l}{}         & \multicolumn{1}{l|}{}       & \multicolumn{5}{c|}{Ускорение по отношению}                                                                                                         \\ \cline{5-9} 
                               & \multicolumn{1}{l}{}       & \multicolumn{1}{l}{}         & \multicolumn{1}{l|}{}       & \multicolumn{3}{c|}{К 1 потоку}                                                           & \multicolumn{2}{c|}{К Clp}                                \\ \hline
\multicolumn{1}{|l|}{\bfseries ЗЛП}      & \multicolumn{1}{l}{\bfseries Строк} & \multicolumn{1}{l}{\bfseries Колонок} & \multicolumn{1}{l|}{\bfseries Элементов} & \multicolumn{1}{l}{\bfseries \begin{tabular}{@{}c@{}}2 \\ потока\end{tabular}} & \multicolumn{1}{l}{\bfseries \begin{tabular}{@{}c@{}}4 \\ потока\end{tabular}} & \multicolumn{1}{l|}{\bfseries \begin{tabular}{@{}c@{}}8 \\ потоков\end{tabular}} & \multicolumn{1}{l}{\bfseries \begin{tabular}{@{}c@{}}1 \\ поток\end{tabular}} & \multicolumn{1}{l|}{\bfseries \begin{tabular}{@{}c@{}}8 \\ потоков\end{tabular}} \\ \hline
\multicolumn{1}{|l|}{25fv47}   & \multicolumn{1}{r}{822}   & \multicolumn{1}{r}{1571}    & 11127                       & 1.12                        & 1.03                        & 0.50                        & 0.47                        & 0.20                        \\
\multicolumn{1}{|l|}{80bau3b}  & \multicolumn{1}{r}{2263}  & \multicolumn{1}{r}{9799}    & 29063                       & 0.91                        & 1.02                        & 0.80                        & 0.16                        & 0.17                        \\
\multicolumn{1}{|l|}{cre-b}    & \multicolumn{1}{r}{9649}  & \multicolumn{1}{r}{72447}   & 328542                      & 0.82                        & 1.23                        & 1.04                        & 1.12                        & 1.21                        \\
\multicolumn{1}{|l|}{cre-d}    & \multicolumn{1}{r}{8927}  & \multicolumn{1}{r}{69980}   & 312626                      & 1.13                        & 1.27                        & 1.66                        & 0.85                        & 1.46                        \\
\multicolumn{1}{|l|}{degen3}   & \multicolumn{1}{r}{1504}  & \multicolumn{1}{r}{1818}    & 26230                       & 1.25                        & 1.13                        & 1.09                        & 0.26                        & 0.29                        \\
\multicolumn{1}{|l|}{fit2p}    & \multicolumn{1}{r}{3001}  & \multicolumn{1}{r}{13525}   & 60784                       & 0.94                        & 0.90                        & 0.94                        & 0.39                        & 0.40                        \\
\multicolumn{1}{|l|}{osa-14}   & \multicolumn{1}{r}{2338}  & \multicolumn{1}{r}{52460}   & 367220                      & 0.92                        & 0.79                        & 1.00                        & 0.12                        & 0.12                        \\
\multicolumn{1}{|l|}{osa-30}   & \multicolumn{1}{r}{4351}  & \multicolumn{1}{r}{100024}  & 700160                      & 0.99                        & 0.93                        & 0.84                        & 0.14                        & 0.16                        \\
\multicolumn{1}{|l|}{pds-06}   & \multicolumn{1}{r}{9882}  & \multicolumn{1}{r}{28655}   & 82269                       & 1.61                        & 2.13                        & 3.02                        & 0.47                        & 1.37                        \\
\multicolumn{1}{|l|}{pds-10}   & \multicolumn{1}{r}{16559} & \multicolumn{1}{r}{48763}   & 140063                      & 1.27                        & 1.81                        & 1.91                        & 0.48                        & 0.96                        \\
\multicolumn{1}{|l|}{qap8}     & \multicolumn{1}{r}{913}   & \multicolumn{1}{r}{1632}    & 8304                        & 1.35                        & 1.18                        & 1.70                        & 0.30                        & 0.51                        \\
\multicolumn{1}{|l|}{stocfor3} & \multicolumn{1}{r}{16676} & \multicolumn{1}{r}{15695}   & 74004                       & 1.76                        & 2.56                        & 3.38                        & 0.10                        & 0.42                        \\
\multicolumn{1}{|l|}{truss}    & \multicolumn{1}{r}{1001}  & \multicolumn{1}{r}{8806}    & 36642                       & 0.96                        & 1.06                        & 1.04                        & 0.41                        & 0.43                        \\ \hline
\multicolumn{4}{|l|}{\bfseries Среднее (геометрическое) ускорение} & \bfseries 1.13                        & \bfseries 1.23                        & \bfseries 1.26                        & \bfseries 0.32                        & \bfseries 0.43                        \\ \hline
\end{tabular}
\caption{Полученное ускорение (до 8 потоков включительно) и производительность по отношению к Clp}
\label{tb:perf}
\end{table}
