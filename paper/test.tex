\section{Тест}
\label{test}

%\input{julia_intro}

Разработанная реализация алгоритма параллельного симплекс-метода была реализована на языке технических расчетов Julia с использованием техник, обсуждаемых в главе~\ref{simplex_parallel}, и протестирована на четырехядерной системе AMD Opteron 2378. Эксперименты проводились с использованием задач из наборов Netlib\cite{Gay1985} и Kennigton\cite{Carolan1990}. Результаты представлены в таблице~\ref{tb:perf}.

Задачи выбрирались по следующему принципу. Среди полного набора из 114 задач большинство (84) оказались слишком малы (решение получено менее, чем за 1 секунду) и не были включены в таблицу. Из оставшихся 30 задач 14 не удалось решить за один или более запусков с использованием 1, 2, 4 или 8 потоков. 

Чтобы убедиться, что представленные в таблице значения показывают эффективное время решения задач, следует заметить, что при использовании 1 потока вычисляется только 1 строка симплекс-таблицы, и, таким образом, выполняется стандартная последовательная версия симплекс-метода. Время работы последовательной версии сравнивалось со временем решения задачи при помощи последовательного COIN-OR решателя Clp версии 1.06.

Решение для оставшихся 16 задач были получены примерно в десять раз медленнее, чем решение Clp, и тоже не были включены в таблицу. Таким образом, таблица~\ref{tb:perf} содержит результаты решения 13 тестовых задач, для которых решение требовало не менее 1 секунды процессорного времени на одном потоке, и решение было получено эффективно при использовании 1 потока и успешно при использовании 2, 4 и 8 потоков.

Как показывают результаты в колонках 5-7 таблицы~\ref{tb:perf}, некоторое ускорение было получено для всех задач, кроме двух (fit2p и osa-14), и среднее (геометрическое) ускорение составило около 30\% на 4 и 8 потоках. Колонка 8 показывает полученное ускорение при использовании 1 потока по отношению к Clp: только 1 задача была решена быстрее, а в остальном решение было получено в среднем в 2.7 раз медленнее. Хотя, при использовании 8 потоков, для четырех задач решение было получено как минимум так же быстро, как и решение Clp. В остальном время решения было в 2.1 раза больше.

\begin{table}[]
\centering\small
\begin{tabular}{lrrr|rrr|rr|}
\cline{5-9}
                               & \multicolumn{1}{l}{}       & \multicolumn{1}{l}{}         & \multicolumn{1}{l|}{}       & \multicolumn{5}{c|}{Ускорение по отношению}                                                                                                         \\ \cline{5-9} 
                               & \multicolumn{1}{l}{}       & \multicolumn{1}{l}{}         & \multicolumn{1}{l|}{}       & \multicolumn{3}{c|}{К 1 потоку}                                                           & \multicolumn{2}{c|}{К Clp}                                \\ \hline
\multicolumn{1}{|l|}{\bfseries ЗЛП}      & \multicolumn{1}{l}{\bfseries Строк} & \multicolumn{1}{l}{\bfseries Колонок} & \multicolumn{1}{l|}{\bfseries \begin{tabular}{@{}c@{}}Эле- \\ ментов\end{tabular}} & \multicolumn{1}{l}{\bfseries \begin{tabular}{@{}c@{}}2 \\ потока\end{tabular}} & \multicolumn{1}{l}{\bfseries \begin{tabular}{@{}c@{}}4 \\ потока\end{tabular}} & \multicolumn{1}{l|}{\bfseries \begin{tabular}{@{}c@{}}8 \\ потоков\end{tabular}} & \multicolumn{1}{l}{\bfseries \begin{tabular}{@{}c@{}}1 \\ поток\end{tabular}} & \multicolumn{1}{l|}{\bfseries \begin{tabular}{@{}c@{}}8 \\ потоков\end{tabular}} \\ \hline
\multicolumn{1}{|l|}{25fv47}   & \multicolumn{1}{r}{822}   & \multicolumn{1}{r}{1571}    & 11127                       & 1.15                        & 1.00                        & 0.72                        & 0.67                        & 0.35                        \\
\multicolumn{1}{|l|}{80bau3b}  & \multicolumn{1}{r}{2263}  & \multicolumn{1}{r}{9799}    & 29063                       & 0.88                        & 1.09                        & 0.84                        & 0.33                        & 0.27                        \\
\multicolumn{1}{|l|}{cre-b}    & \multicolumn{1}{r}{9649}  & \multicolumn{1}{r}{72447}   & 328542                      & 1.05                        & 1.28                        & 1.12                        & 1.04                        & 1.31                        \\
\multicolumn{1}{|l|}{cre-d}    & \multicolumn{1}{r}{8927}  & \multicolumn{1}{r}{69980}   & 312626                      & 1.25                        & 1.29                        & 1.65                        & 0.84                        & 1.69                        \\
\multicolumn{1}{|l|}{degen3}   & \multicolumn{1}{r}{1504}  & \multicolumn{1}{r}{1818}    & 26230                       & 1.35                        & 1.15                        & 1.08                        & 0.25                        & 0.31                        \\
\multicolumn{1}{|l|}{fit2p}    & \multicolumn{1}{r}{3001}  & \multicolumn{1}{r}{13525}   & 60784                       & 0.93                        & 0.94                        & 0.94                        & 0.58                        & 0.37                        \\
\multicolumn{1}{|l|}{osa-14}   & \multicolumn{1}{r}{2338}  & \multicolumn{1}{r}{52460}   & 367220                      & 1.05                        & 0.81                        & 1.11                        & 0.31                        & 0.07                        \\
\multicolumn{1}{|l|}{osa-30}   & \multicolumn{1}{r}{4351}  & \multicolumn{1}{r}{100024}  & 700160                      & 1.00                        & 1.05                        & 0.81                        & 0.27                        & 0.10                        \\
\multicolumn{1}{|l|}{pds-06}   & \multicolumn{1}{r}{9882}  & \multicolumn{1}{r}{28655}   & 82269                       & 1.57                        & 2.14                        & 2.96                        & 0.44                        & 1.37                        \\
\multicolumn{1}{|l|}{pds-10}   & \multicolumn{1}{r}{16559} & \multicolumn{1}{r}{48763}   & 140063                      & 1.23                        & 1.85                        & 1.93                        & 0.43                        & 1.13                        \\
\multicolumn{1}{|l|}{qap8}     & \multicolumn{1}{r}{913}   & \multicolumn{1}{r}{1632}    & 8304                        & 1.37                        & 1.33                        & 1.68                        & 0.24                        & 0.65                        \\
\multicolumn{1}{|l|}{stocfor3} & \multicolumn{1}{r}{16676} & \multicolumn{1}{r}{15695}   & 74004                       & 1.77                        & 2.52                        & 3.52                        & 0.20                        & 0.54                        \\
\multicolumn{1}{|l|}{truss}    & \multicolumn{1}{r}{1001}  & \multicolumn{1}{r}{8806}    & 36642                       & 0.88                        & 1.09                        & 1.00                        & 0.45                        & 0.68                        \\ \hline
\multicolumn{4}{|l|}{\bfseries Среднее ускорение} & \bfseries 1.19                        & \bfseries 1.35                        & \bfseries 1.49                        & \bfseries 0.46                        & \bfseries 0.68                        \\ \hline
\end{tabular}
\caption{Полученное ускорение (до 8 потоков включительно) и производительность по отношению к Clp}
\label{tb:perf}
\end{table}
